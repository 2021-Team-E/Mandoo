{"version":3,"sources":["../src/ReactHover.js"],"names":["ReactHover","props","state","children","PropTypes","object","hoverComponentStyle","display","position","item","index","type","name","childrenWithProps","child","push","React","cloneElement","setVisibility","bind","getCursorPos","styles","map","renderItem","flag","updatedStyles","setState","e","cursorX","pageX","cursorY","pageY","options","followCursor","shiftX","shiftY","isNaN","top","left","Component","array","isRequired","className","string"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Hover from './lib/Hover'\nimport Trigger from './lib/Trigger'\nimport PropTypes from 'prop-types'\n\nclass ReactHover extends Component {\n  static propTypes = {\n    children: PropTypes.array.isRequired,\n    options: PropTypes.object.isRequired,\n    className: PropTypes.string,\n  }\n\n  static defaultProps = {\n    options: {\n      followCursor: true,\n      shiftX: 20,\n      shiftY: 0\n    },\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      children: PropTypes.object,\n      hoverComponentStyle: {\n        display: 'none',\n        position: 'absolute',\n      },\n    }\n  }\n\n  renderItem(item, index) {\n    if (item.type.name === 'Trigger' || item.props.type === 'trigger') {\n      return <Trigger key={index}>{item}</Trigger>\n    } else if (item.type.name === 'Hover' || item.props.type === 'hover') {\n      return <Hover key={index}>{item}</Hover>\n    }\n  }\n\n  render() {\n    const { hoverComponentStyle } = this.state\n    let childrenWithProps = []\n    for (let child of this.props.children) {\n      if (child.props) {\n        if (child.type.name === 'Trigger' || child.props.type === 'trigger') {\n          childrenWithProps.push(\n            React.cloneElement(child, {\n              setVisibility: this.setVisibility.bind(this),\n              getCursorPos: this.getCursorPos.bind(this),\n            }),\n          )\n        } else if (\n          child.type.name === 'Hover' ||\n          child.props.type === 'hover'\n        ) {\n          childrenWithProps.push(\n            React.cloneElement(child, {\n              styles: hoverComponentStyle,\n              setVisibility: this.setVisibility.bind(this),\n              getCursorPos: this.getCursorPos.bind(this),\n            }),\n          )\n        }\n      }\n    }\n\n    return (\n      <div>\n        {childrenWithProps.map((item, index) => this.renderItem(item, index))}\n      </div>\n    )\n  }\n\n  setVisibility(flag) {\n    let { hoverComponentStyle } = this.state\n    let updatedStyles = null\n    if (flag) {\n      updatedStyles = { ...hoverComponentStyle, display: 'block' }\n    } else {\n      updatedStyles = { ...hoverComponentStyle, display: 'none' }\n    }\n    this.setState({\n      hoverComponentStyle: updatedStyles,\n    })\n  }\n\n  getCursorPos(e) {\n    const cursorX = e.pageX\n    const cursorY = e.pageY\n    let {\n      options: { followCursor, shiftX, shiftY },\n    } = this.props\n    let { hoverComponentStyle } = this.state\n    let updatedStyles = null\n    if (!followCursor) {\n      return\n    }\n    if (isNaN(shiftX)) {\n      shiftX = 0\n    }\n    if (isNaN(shiftY)) {\n      shiftY = 0\n    }\n    updatedStyles = {\n      ...hoverComponentStyle,\n      top: cursorY + shiftY,\n      left: cursorX + shiftX,\n    }\n    this.setState({\n      hoverComponentStyle: updatedStyles,\n    })\n  }\n}\n\n\n\nexport { Trigger, Hover }\nexport default ReactHover\n"],"file":"ReactHover.js"}